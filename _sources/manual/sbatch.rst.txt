Command sbatch
==============

::

  Usage:
        sbatch generate submit [--verbose] --name=NAME
        sbatch generate SOURCE [--verbose] [--mode=MODE] [--config=CONFIG...] [--attributes=PARAMS] [--out=DESTINATION] [--gpu=GPU] [--dryrun] [--noos] [--nocm] [--dir=DIR] [--experiment=EXPERIMENT] --name=NAME
        sbatch slurm start
        sbatch slurm stop
        sbatch slurm info

  This command does some useful things.

  Arguments:
      FILENAME       name of a slurm script generated with sbatch
      CONFIG_FILE    yaml file with configuration
      ACCOUNT        account name for host system
      SOURCE         name for slurm script
      PARAMS         parameter lists for experimentation
      GPU            name of gpu

  Options:
      -h                        help
      --dryrun                  flag to do a dryrun and not create any files and directories (not tested)
      --config=CONFIG...        a list of comma seperated configuration files in yaml or json format. The endings must be .json or .yaml
      --attributes=PARAMS       a list of coma separated attribute value pars to set parameters that are used.
      --out=DESTINATION         TBD
      --gpu=GPU                 The name of the GPU. Tyoically k80, v100, a100, rtx3090, rtx3080
      --noos                    ignores environment variable substitution from the shell. This can be helpfull when debugging as the list is quite lareg
      --nocm                    cloudmesh ahs a variable dictionary build in. Any vaiable refered to by cloudmes. and its name is replaced from the
                                cloudmesh variables
      --experiment=EXPERIMENT   This specifies all parameters that are used to create permutations of them. They are comma separated key value pairs
      --mode=MODE               one of "flat", "debug", "hierachical" can als just use "f". "d", "h" [default: debug]
      --name=NAME               name of the experiment configuration file

  Description:

       > Example:
       > cms sbatch generate slurm.in.sh --verbose --config=a.py,b.json,c.yaml --attributes=a=1,b=4 --dryrun --noos --dir=example --experiment="epoch=[1-3] x=[1,4] y=[10,11]" --name=a --mode=h
       > cms sbatch generate slurm.in.sh --config=a.py,b.json,c.yaml --attributes=a=1,b=4  --noos --dir=example --experiment="epoch=[1-3] x=[1,4] y=[10,11]" --name=a --mode=h
       > cms sbatch generate slurm.in.sh --verbose --config=a.py,b.json,c.yaml --attributes=name=gregor,a=1,b=4 --noos --dir=example --experiment="epoch=[1-3] x=[1,4] y=[10,11]" --mode=f --name=a

       > cms sbatch generate submit --name=a


